<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My 8 number</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css"
        integrity="sha512-rt/SrQ4UNIaGfDyEXZtNcyWvQeOq0QLygHluFQcSjaGB04IxWhal71tKuzP6K8eYXYB6vJV4pHkXcmFGGQ1/0w=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"
        integrity="sha512-igl8WEUuas9k5dtnhKqyyld6TzzRjvMqLC79jkgT3z02FvJyHAuUtyemm/P/jYSne1xwFI06ezQxEwweaiV7VA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <!--Хэдер-->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: rgb(27, 27, 27)">
        <a class="navbar-brand" href="#">
            <img src="./assets/mignat-inc-website-favicon-white.png" width="70" height="70">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
    <!--Слайдер-->
    <div class="carousel slide" data-ride="carousel" id="slides">
        <div class="carousel-inner">
            <ul class="carousel-indicators">
                <li data-target="#slides" data-slide-to="0" class="active"></li>
                <li data-target="#slides" data-slide-to="1"></li>
                <li data-target="#slides" data-slide-to="2"></li>
            </ul>
            <div class="carousel-item active">
                <img src="./assets/wallpapergray1.jpg">
                <div class="carousel-caption">
                    <h1 class="display-2">Привет</h1>
                    <h3>Добро пожаловать на мой сайт</h3>
                    <a href="https://github.com/fonypage">
                        <button type="button" class="btn btn-secondary btn-lg">My GitHub</button>
                    </a>
                </div>
            </div>
            <div class="carousel-item">
                <img src="./assets/wallpapergray2.jpg">
            </div>
            <div class="carousel-item">
                <img src="./assets/wallpapergray3.jpg">
            </div>
        </div>
    </div>

    <!--Форма-->
    <div class="container-fluid text-center p-5">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Вход
        </button>
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Заполнение формы</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">X</button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <h1>Введите данные</h1>
                        <form class="formcarryForm" action="https://formcarry.com/s/G14zY1FZY5"
                            enctype="multipart/form-data">
                            <input type="email" id="email" name="email" required placeholder="Email"
                                class="form-control"><br>
                            <input type="text" id="name" name="name" required placeholder="Введите ФИО"
                                class="form-control"><br>
                            <input type="phone" id="phone" name="phone" required placeholder="Телефон"
                                class="form-control"><br>
                            <select class="form-select" required aria-label="Default select example">
                                <option hidden>Выберите организацию</option>
                                <option value="1">Яндекс</option>
                                <option value="2">Тинькофф</option>
                                <option value="3">Авиасейлс</option>
                                <option value="4">Другая</option>
                            </select><br><br>
                            <textarea name="message" id="message" required placeholder="Сообщение"
                                class="form-control"></textarea><br>
                            Я принимаю пользовательское соглашение
                            <label><input type="checkbox" id="checkbox" name="contract" required /> </label><br>
                            <button type="submit" class="btn btn-success">Отправить</button>
                        </form>
                        <div id="errorMess"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!--Футер-->

    <footer class="container-fluid">
        <div class="container">
            <div class="row padding text-center">
                <div class="col-12">
                    <h2>Мои контакты</h2>
                </div>
                <div class="col-12 social padding">
                    <a href="https://vk.com/thuglife66"><i class="fab fa-vk"></i></a>
                    <a href="https://github.com/fonypage"><i class="fab fa-github"></i></a>
                    <a href="https://mail.google.com/mail/u/0/#inbox"><i class="fab fa-google-plus-g"></i></a>
                    <a href="https://www.youtube.com/"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script>
        $(function () {
            $(".formcarryForm").submit(function (e) {
                e.preventDefault();
                var href = $(this).attr("action");

                $.ajax({
                    type: "POST",
                    url: href,
                    data: new FormData(this),
                    dataType: "json",
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        if (response.status == "success") {
                            alert("Мы получили вашу заявку, спасибо!");
                        }
                        else if (response.code === 422) {
                            alert("Field validation failed");
                            $.each(response.errors, function (key) {
                                $('[name="' + key + '"]').addClass('formcarry-field-error');
                            });
                        }
                        else {
                            alert("An error occured: " + response.message);
                        }
                    },
                    error: function (jqXHR, textStatus) {
                        const errorObject = jqXHR.responseJSON

                        alert("Request failed, " + errorObject.title + ": " + errorObject.message);
                    },
                    complete: function () {
                        // This will be fired after request is complete whether it's successful or not.
                        // Use this block to run some code after request is complete.
                    }
                });
            });
        });
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="js/formMail.js"></script>
</body>

</html>
